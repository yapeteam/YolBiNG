package cn.yapeteam.yolbi.module.impl.exploit;

import cn.yapeteam.yolbi.event.Listener;
import cn.yapeteam.yolbi.event.impl.network.PacketReceiveEvent;
import cn.yapeteam.yolbi.event.impl.network.PacketSendEvent;
import cn.yapeteam.yolbi.event.impl.player.UpdateEvent;
import cn.yapeteam.yolbi.module.Module;
import cn.yapeteam.yolbi.module.ModuleCategory;
import cn.yapeteam.yolbi.util.network.PacketUtil;
import cn.yapeteam.yolbi.values.impl.NumberValue;
import net.minecraft.client.gui.inventory.GuiInventory;
import net.minecraft.item.ItemStack;
import net.minecraft.network.play.client.C0EPacketClickWindow;

/**
 * @author yuxiangll
 * @package cn.yapeteam.yolbi.module.impl.exploit
 * don't mind
 * @date 2023/8/24 16:55
 */
public class KeepInv extends Module {
    private final NumberValue<Integer> slot1 = new NumberValue<>("Keep slot", 2, 0, 8, 1);

    private final NumberValue<Integer> slot2 = new NumberValue<>("Keep slot", 2, 0, 8, 1);
    private final NumberValue<Integer> slot3 = new NumberValue<>("Keep slot", 2, 0, 8, 1);
    private final NumberValue<Integer> slot4 = new NumberValue<>("Keep slot", 2, 0, 8, 1);

    public KeepInv() {
        super("KeepInv", ModuleCategory.EXPLOIT);
        this.addValues(slot1,slot2,slot3,slot4);
    }
    boolean flag = false;
    @Override
    public void onEnable(){
        flag = false;
    }

    @Listener
    public void oupdat(UpdateEvent event){
        hotbarExchange(slot1.getValue(), 1);
        hotbarExchange(slot2.getValue(), 2);
        hotbarExchange(slot3.getValue(), 3);
        hotbarExchange(slot4.getValue(), 4);
        this.setEnabled(flag);
    }

    private void hotbarExchange(int hotbarNumber, int slotId) {
        mc.playerController.windowClick(mc.thePlayer.inventoryContainer.windowId, slotId, hotbarNumber, 2, mc.thePlayer);
    }
}
